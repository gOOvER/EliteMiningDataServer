# Elite Dangerous Mining Data Server - Environment Configuration
# Following Docker Compose best practices and official documentation
# https://docs.docker.com/compose/intro/compose-application-model/

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Server settings
NODE_ENV=production
PORT=3000
LOG_LEVEL=info

# Data persistence paths (adjust for your system)
DATA_PATH=./data

# =============================================================================
# DATABASE CONFIGURATION (MongoDB 8.0)
# =============================================================================

# MongoDB connection
MONGODB_DB_NAME=elite_mining
MONGODB_PORT=27017
MONGODB_MAX_CONNECTIONS=100

# Optional MongoDB authentication (recommended for production)
# MONGO_ROOT_USERNAME=admin
# MONGO_ROOT_PASSWORD=your_secure_mongodb_password

# =============================================================================
# EXTERNAL API CONFIGURATION
# =============================================================================

# EDDN (Elite Dangerous Data Network)
EDDN_RELAY_URL=tcp://eddn.edcd.io:9500

# Optional API keys for enhanced features
# Get these from the respective services for higher rate limits
INARA_API_KEY=
EDSM_API_KEY=

# Commander information (optional)
COMMANDER_NAME=
COMMANDER_FID=

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Cache settings
CACHE_DURATION_MINUTES=15
MAX_CACHE_ENTRIES=10000

# Request timeouts
REQUEST_TIMEOUT_MS=30000
WEBSOCKET_MAX_CONNECTIONS=1000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# Rate limiting
API_RATE_LIMIT_WINDOW_MS=900000
API_RATE_LIMIT_MAX_REQUESTS=100

# MongoDB Express admin interface
# IMPORTANT: Change these credentials for production!
MONGO_EXPRESS_PORT=8081
MONGO_EXPRESS_USERNAME=admin
MONGO_EXPRESS_PASSWORD=changeme123

# =============================================================================
# DATA RETENTION POLICIES
# =============================================================================

# Cleanup intervals (in days)
DATA_RETENTION_DAYS=7
MINING_EVENTS_RETENTION_DAYS=30
PRICE_DATA_RETENTION_DAYS=14

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log settings
LOG_FILE_PATH=./logs/elite-mining.log
LOG_MAX_FILE_SIZE=10m
LOG_MAX_FILES=5

# =============================================================================
# DEPLOYMENT PROFILES
# =============================================================================

# Docker Compose profiles to control which services to start
# Uncomment the desired profile:

# For development (includes MongoDB Express)
# COMPOSE_PROFILES=development

# For administration (includes admin tools)
# COMPOSE_PROFILES=admin

# For production (minimal services only)
# COMPOSE_PROFILES=

# =============================================================================
# ADVANCED MONGODB SETTINGS
# =============================================================================

# MongoDB memory allocation (in GB)
MONGODB_CACHE_SIZE_GB=2

# MongoDB compression
MONGODB_COMPRESSION=zstd

# Replica set (for production clustering)
# MONGODB_REPLICA_SET=rs0